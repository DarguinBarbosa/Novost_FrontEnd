<div class="row">
  <div class="col-lg-12" style="float:none;margin:auto;">
<div *ngIf="boton === false else template">
  <div>
    <nb-card>
      <nb-card-header>
      <button nbButton style="margin: '1rem'" (click)='ctemplate()' status='warning' >Agregar usuario</button>
      </nb-card-header>
      <nb-card-body>
  <ng2-smart-table [settings]="Settings" [source]="info"></ng2-smart-table>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div>
<ng-template #template>
  <nb-card> 
    <nb-card-body class="example-items-col">
     <form [formGroup]="form" >  
      <input type="hidden"  value="0" formControlName="id" >
      <label>Nombre</label> <small style="color: red;">{{getErrorNombre()}}</small>
      <input nbInput fullWidth formControlName="nombre"  shape="round" name="name" placeholder="Ingrese su nombre" >
      <label>Apellidos</label> <small style="color: red;">{{getErrorApelli()}}</small>
      <input type="text" formControlName="apellido" nbInput  shape="round"placeholder="Ingrese su Apellido" fullWidth>
      <label>Rol</label><small style="color: red;">{{getErrorRol()}}</small>
      <nb-select formControlName="rol" placeholder="Selecciona rol"   shape="round" fullWidth (selectedChange)="apeform($event)"> 
        <nb-option  value="AP">Aprendiz</nb-option>
        <nb-option value="AA">Apoyo Administrativo </nb-option>
        <nb-option value="IN">Instructor</nb-option>
        <nb-option value="CO">Coordinador</nb-option>
        <nb-option value="AD">Administrador</nb-option>
      </nb-select>

      <div  *ngIf="activate ===true && form2 "[formGroup]="form2" >
        <label>Ficha</label><small style="color: red;">{{getErrorFicha()}}</small>
        <nb-select formControlName="ficha" placeholder="Selecciona Ficha" fullWidth  shape="round" > 
          <nb-option  *ngFor="let l of selectFicha" value="{{l.idFicha}}">{{l.numeroFicha}}</nb-option>
        </nb-select>
        <label>Estado aprendiz</label><small style="color: red;">{{getErrorEstado()}}</small>
        <input type="text" formControlName="estado" nbInput  shape="round"placeholder="Ingrese un estado para el aprendiz" fullWidth>
        <label>Telefono</label><small style="color: red;">{{getErrorCel()}}</small>
        <input type="number" formControlName="tel"  nbInput  shape="round"placeholder="Ingrese su telefono" fullWidth>
      </div>
  <label>Número Documento</label> <small style="color: red;">{{getErrorNdocumento()}}</small>
      <input type="number" formControlName="Ndocumento" nbInput placeholder="Ingrese su numero de Identificación" shape="round" fullWidth>
  <label>Correo</label><small style="color: red;">{{getErroremail()}}</small>
      <input type="email" formControlName="email" nbInput placeholder="Ingrese su correo Electronico" shape="round" fullWidth>

       <button nbButton status="warning" type="submit" (click)='validacionForm(form,form2)'>Enviar</button>
    </form>
     
    </nb-card-body>
  </nb-card> 
</ng-template>
</div>
</div>
</div>